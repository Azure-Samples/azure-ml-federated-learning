$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: nvflare_client
version: 2.2.3-mod1
display_name: NVFlare client
type: command
description: Populates an NVFlare client
is_deterministic: true

inputs:
  federation_identifier:
    type: string
  client_config:
    type: uri_folder
  client_data:
    type: uri_folder
    optional: true
  client_data_env_var:
    type: string
    default: CLIENT_DATA_PATH
  start:
    type: uri_file

code: "."

command: >-
  python run.py 
  --federation_identifier ${{inputs.federation_identifier}} 
  --client_config ${{inputs.client_config}} 
  $[[--client_data ${{inputs.client_data}}]] 
  --client_data_env_var ${{inputs.client_data_env_var}}

environment: 
  build:
    path: ./environment/context/
