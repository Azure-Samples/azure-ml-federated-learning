
$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json

outputs:
  silo_1_data:
    type: uri_folder
    mode: mount
    path: azureml://datastores/datastore_silo0_westus/paths/cc_fraud
  silo_2_data:
    type: uri_folder
    mode: mount
    path: azureml://datastores/datastore_northus/paths/cc_fraud
  silo_3_data:
    type: uri_folder
    mode: mount
    path: azureml://datastores/datastore_southus/paths/cc_fraud

code: .

command: >-
  python run.py --silo_1_data ${{outputs.silo_1_data}} --silo_2_data ${{outputs.silo_2_data}} --silo_3_data ${{outputs.silo_3_data}}

environment: 
  conda_file: ./conda.yaml
  image: mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04

compute: azureml:cpu-data-loader